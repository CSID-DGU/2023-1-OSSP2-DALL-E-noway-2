<script setup lang="ts">
import { RouterLink, useRouter } from 'vue-router';
import { ref, onMounted } from 'vue';
import axios from 'axios';
import '@fortawesome/fontawesome-free/css/all.css';

const posts = ref([
  // Í≤åÏãúÍ∏Ä Îç∞Ïù¥ÌÑ∞ (Í∞ÄÏÉÅ Îç∞Ïù¥ÌÑ∞Î°ú ÎåÄÏ≤¥)
  {
    id: 1,
    image:
      'https://i.pinimg.com/originals/55/7d/38/557d38dc2749c7aa8e0dba5b8f4415b0.jpg',
    score: '‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ',
    title: 'Í≤åÏãúÍ∏Ä Ï†úÎ™© 1',
    user: 'ÏÇ¨Ïö©Ïûê1',
    createdAt: '2023.05.16 9:20',
    content:
      'ÎÇ¥Ïö©Ïù¥Í∏¥Í∏Ä1ÏïÑÎ¨¥Í±∞ÎÇòÏûëÏÑ±ÏùÑÌï¥Î≥ºÍ≤åÏöîÎ∞ëÏúºÎ°úÎÇ¥Î†§Í∞àÍπåÏöîÏïÑÎãòÏòÜÏúºÎ°úÎ∞ÄÎ¶¥ÍπåÏöîÏñ¥ÎñªÍ≤åÎê†ÍπåÏöîÍ∞ÄÎÇòÎã§ÎùºÎßàÎ∞îÏÇ¨ÏïÑÏûêÏ∞®Ïπ¥ÌÉÄÌååÌïòÏïÑÏïºÏñ¥Ïó¨Ïò§ÏöîÏö∞Ïú†ÏúºÏù¥ Ïä§ÌÅ¨Î°§ Î≤îÏúÑÎ•º ÏïåÏïÑÎ≥¥Í∏∞ ÏúÑÌï¥ ÏµúÎåÄÌïú Í∏∏Í≤å Ïç®Î≥¥ÎèÑÎ°ù Ìï†Í≤åÏöî Ïö∞ÏÑ†ÏùÄ Í∞ÄÏÉÅ Îç∞Ïù¥ÌÑ∞Îì§Ïù¥ÏßÄÎßå ÏñòÎÑ§Îì§Ïù¥ Ï∞ê Îç∞Ïù¥ÌÑ∞Î°ú Î∞õÏïÑÏôîÏùÑ Îïå ÏÉùÍ∞ÅÌï¥Î¥êÏïº ÌïòÎãàÍπåÏöî Í∑ºÎç∞ ÏïÑÏßÅ Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Îäî Í±∏ Ïûò Î™®Î•¥Í≤†Ïñ¥ÏÑú Î¨¥ÏßÄÏÑ±ÏúºÎ°ú Ïù¥Î†áÍ≤å Í∏∏Í≤å Í∏∏Í≤å Ïç®Î≥¥ÎèÑÎ°ù ÌïòÍ≤†ÏäµÎãàÎã§. Ïùå Í∑ºÎç∞ Ïä§ÌÉÄÏùº ÏßÄÏ†ïÏù¥ ÏÉùÍ∞ÅÎ≥¥Îã§ Ïûò Ïïà ÎêòÎÑ§Ïöî ÍµâÏû•Ìûà ÏÑ∏Î∂ÄÏ†ÅÏúºÎ°ú Îã§Î§ÑÏïºÌïòÎäîÎç∞ ÌãÄ Ïû°Îäî Í±∞Î≥¥Îã§ ÎîîÌÖåÏùºÏù¥ Îçî Ïò§Îûò Í±∏Î¶¨ÎÑ§Ïú† Í∑ºÎç∞ Ïôú ÎßÅÌÅ¨ ÎùºÏö∞ÌÑ∞ ÌÉúÍ∑∏Îäî Î∞ïÏä§Î°ú Ïù∏ÏãùÏùÑ Ïïà ÌïòÎäî Í±∞Ï£† Í∑∏ Î∞ëÏúºÎ°ú Î≥¥ÎÇ¥Ï£ºÏÑ∏Ïöî Í≤πÏπòÎäî Í±∞ Ïã´Ïñ¥Ïú†',
    views: 32,
    likes: 10,
    bookmarks: 5,
    tag: '#Ìï¥ÏãúÌÉúÍ∑∏1  #Ìï¥ÏãúÌÉúÍ∑∏2',
    interprete: 'Ìï¥Î™ΩÏóêÎäî Î¨¥Ïä® ÎÇ¥Ïö©Ïù¥ Îì§Ïñ¥Í∞àÍπåÏöî',
  },
]);

const route = useRouter();

const gotoComment = () => {
  route.push('/comment/:filterType/:id');
};

const showCategoryOptions = ref(false);

const changeOptions = () => {
  showCategoryOptions.value = !showCategoryOptions.value;
};

const postModify = () => {
  route.push('/dream-diary/new');
};

const postDelete = () => {
  route.push('/home');
};

const showInterprete = ref(false);
const buttonInterprete = () => {
  showInterprete.value = !showInterprete.value;
};

const clickLike = () => {};

const clickBookmark = () => {};
</script>
<template>
  <main>
    <div v-for="post in posts" :key="post.id" class="post">
      <div class="one-post">
        <img
          :src="post.image"
          style="
            margin: 0 auto;
            max-width: 340px;
            max-height: 240px;
            border-radius: 16px;
          "
        />
        <div class="post-box">
          <div class="post-score">{{ post.score }}</div>
          <div class="post-title">{{ post.title }}</div>
          <div class="list-row">
            <div class="row-left">
              {{ post.user }}
            </div>
            <div class="row-middle">
              {{ post.createdAt }}
            </div>
            <duv class="row-right"> üëÄ {{ post.views }} </duv>
          </div>
          <div class="post-content">
            <h1>{{ post.content }}</h1>
            <div class="post-tag">{{ post.tag }}</div>
            <button @click="buttonInterprete" class="read-dream">
              Ìï¥Î™ΩÎ≥¥Í∏∞
            </button>
            <div v-if="showInterprete" class="interpretation">
              {{ post.interprete }}
            </div>
            <div class="icon-row">
              <button @click="clickLike" class="click-like">
                <i class="fas fa-heart"> {{ post.likes }}</i>
              </button>
              <button @click="clickBookmark" class="click-bookmark">
                <i class="fas fa-bookmark"> {{ post.bookmarks }}</i>
              </button>
              <button @click="gotoComment" class="go-comment">
                <i class="fas fa-comment"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="select-change">
      <button @click="changeOptions" class="change-button">‚Åù</button>
    </div>
    <div v-if="showCategoryOptions" class="delete-modify">
      <button @click="postDelete()" class="delete">ÏÇ≠Ï†ú</button>
      <button @click="postModify()" class="modify">ÏàòÏ†ï</button>
    </div>
  </main>
</template>

<style scoped>
.post {
  width: auto;
  color: white;
}
.one-post {
  overflow-y: auto;
  scrollbar-width: thin;
  z-index: 1;
  max-height: 634px;
}
.one-post::-webkit-scrollbar {
  width: 0px;
}
.post-box {
  width: 320px;
  margin: 0 auto;
}
.post-score {
  text-align: center;
  font-size: 24px;
}
.post-title {
  font-size: 24px;
  font-weight: bold;
  text-align: center;
}
.icon-row {
  top: 36px;
  z-index: 2;
}

.go-comment {
  left: 224px;
}

.go-comment i {
  color: white;
  font-size: 20px;
}
.go-comment:hover i {
  color: magenta; /* ÎßàÏö∞Ïä§Î•º Ïò¨Î†∏ÏùÑ Îïå ÏïÑÏù¥ÏΩòÏùò ÏÉâÏÉÅ Î≥ÄÍ≤Ω */
}
.click-like {
  cursor: pointer;
}
.click-like i {
  font-size: 20px;
}
.click-bookmark {
  left: 20px;
}
.click-bookmark i {
  font-size: 20px;
  transition: red;
}
.list-row {
  display: flex;
  flex-direction: row;
  font-size: 12px;
}
.row-middle {
  left: 16px;
}
.row-right {
  left: 156px;
}
.post-content {
  min-height: auto;
}
.post-tag {
  top: 8px;
  font-size: 12px;
}
.read-dream {
  font-size: 12px;
  top: 16px;
}
.read-dream:active {
  text-decoration: underline;
}
.interpretation {
  font-size: 12px;
  top: 16px;
}
.change-button {
  background-color: white;
  color: #000;
  width: 28px;
  height: 28px;
  z-index: 4;
  border-radius: 28px;
  left: 374px;
  bottom: 636px;
}
.delete-modify {
  font-size: 12px;
  color: black;
  display: flex;
  flex-direction: column;
  left: 368px;
  bottom: 636px;
  z-index: 4;
  width: 40px;
}
.delete {
  top: 4px;
  background-color: white;
  border-radius: 10px;
}
.modify {
  background-color: white;
  top: 8px;
  border-radius: 10px;
}
</style>
